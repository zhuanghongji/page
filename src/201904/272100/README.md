# 谈谈软件配置管理

## 概述

**什么是「软件配置」？**

在软件开发过程中产生的一些输出信息项可称为软件配置，可将其分为以下三个类别：
* 计算机程序 (源代码和可执行程序)
* 描述计算机程序的文档 (针对技术开发者和用户)
* 数据 (包含在程序内部和外部)
  
**什么是「软件配置管理」？**

软件配置管理 (`Software Configuration Manager`)，简称 `SCM`，是通过对「产品变更」进行标识、存储和控制，以维护其完整性、可追溯性和正确性的一种技术。可从以下三个方面去理解：
* 版本控制 (Version Control)
* 变更控制 (Change Control)
* 过程支持 (Process Support)


**它的「目的」是什么？**

软件配置管理作为一种标识、组织和控制修改的技术，它的目的是：
* 记录软件产品的演化过程。
* 确保软件开发者在软件生命周期的各个阶段都能得到精确的产品配置。
* 最终保证软件产品的完整性、一致性、追溯性和可控性。
* 使错误达到最小，并有效地提高生产效率。


## 角色职责

对于任何一个项目管理流程来说，维持正常的运转都需要一些前提条件，比如：
* 项目中有着明确的人员角色、职责和权限的定义。
* 组织内所有人员可按照不同的角色要求，并根据系统赋予的权限来执行相应的工作。

在软件配置管理过程中，主要有以下五个角色：
* **项目经理**：整个软件研发活动的负责人，控制着配置管理各项活动的进程。
* **配置控制委员会**：负责指导和控制配置管理的各项具体活动的进行。
* **配置管理员**：根据配置项计划执行各项管理任务。
* **系统集成员**：负责生成和管理项目的内外发布版本。
* **开发人员**：按照软件配置管理工具的使用模型来完成开发任务。


## 关键活动

整个配置管理过程是围绕着以下几个活动进行的：

* **配置标识**：按照规定统一所有配置项的编号，并以一定的目录结构将其保存在配置库中。
* **工作空间管理**：在引入软件配置管理工具 (比如 SVN 或 Git) 之后，所有开发人员都需要把工作成果存放到对应该工具所管理的配置库中。
* **版本控制**：置于配置库中的所有元素都应自动予以版本标识，并设置有相应的访问权限。
* **变更控制**：通过结合人的规程和自动化工具，提供一个变化控制的机制。
* **状态报告**：根据配置项操作数据库中的记录来向管理者报告开发活动的进展情况，定期进行。
* **配置审计**：作为变更控制的补充手段，确保某一变更需求被切实实现。


## 管理过程

### 变更控制

在软件配置管理过程中，变更控制关键活动之一，其过程大致如下：

<img src="./res/001.png" width="360">

在这个过程中，可通过要加强团队之间的沟通，来真正掌握开发的状态和进程。

一般情况下，变更可分为两种情况：
1. 为修正小错误所进行的变更。
2. 为增加删或除某些功能、或改变现有功能所进行的变更。 

作为变更控制负责人：
* 如果变更的代价比较小且对软件系统其它部分没有影响或影响很小，通常应该批准这个变更。
* 但如果变更的代价比较高或影响比较大，就必须权衡利弊 (成本/效益)，以决定该变更是否需要进行。


### 基线变更管理

基线 (Baseline) 是软件生存期中各开发阶段末尾的特定点，也称为里程碑。它的作用是将软件开发过程中的各个阶段划分更加明确化，以便于校验和肯定阶段成果。

一个或一组配置项在形成并通过审核之后，就构成了一个相对稳定的逻辑实体，也就构成了我们所说的基线。在基线中的配置项被冻结之后，开发人员和其它的项目成员都不能对其随意地进行修改。通常情况下，我们将交付给客户的基线称为 `Release`，将内部开发用的基线称为 `Build`。

> 基线的主要属性有：名称、标识符、版本和日期。


项目的基线也有可能因为一些原因需要进行变更，比如：客户需求变化、成本调整、进度调整等。基线变更也称为配置控制，其过程大致如下：

<img src="./res/002.png" width="480">

进一步细化，如下：

<img src="./res/003.png" width="720">



### 配置审核

配置审核主要包括两个方面：
* **配置管理审核**：确保项目组成员的所有配置管理活动都遵循已批准的软件配置管理方针和规程。
* **基线审核**：保证基线的配置项能够正确的构造和实现，并满足功能要求。

配置审核的四种形式：
* **过程审核**
* **功能审核**：核实软件配置项的实际性能是否符合它的需求。
* **物理审核**：验证软件的功能是否与其设计一致，是否可以发布。
* **质量系统审核**

^_^

「功能审核」由项目经理提出请求，由软件质量工程师计划并实施，一般步骤如下：
* 准备一个验证表，列出所有功能方面的需求。而且对每个需求都需要有对应的
  * 测试过程
  * 测试行为实例
  * 相应测试结果
  * 验证情况的完整分析记录
* 核实是否已正确实施了所有变更请求。
* 核实是否已对软件正确应用了所有更改。
* 文档差异、建立纠正操作和完成日期。

「物理审核」也是由项目经理提出请求，但跟随在功能审核之后，而且其计划并实施是由软件质量工程师和项目配置经理一起进行的。在实际过程中，人们一般认为审核是一种事后活动，很容易被忽视，但是所谓的 “事后” 也是有相对性的。在项目初期审核发现的问题，对项目后期工作总是会有指导和参考价值的。


### 配置统计

检查配置管理系统以及内容，和检测配置项变更历史的这个过程称为配置状态统计。检查的范围可因项目不同而不同，通常情况下，用于计算配置状态的最小数据集应包括：
* 被批准的配置项
* 配置项所有请求的变化状态
* 配置项所有被批准的变更实现状态

**那我们如何评估一个配置系统的状态？** 

从以下几点入手：
* 变更请求的数量
* 变更请求的历史报告
* 存储量的增长
* 配置管理系统在运作中发生异常的次数


## 总结

这篇文章主要是在学习 Git 过程中从网络上看到的一些项目管理理论知识，内容主要是截取自网络，但结合自己在工作上遇到的一些感受，补充了一些自己的看法。